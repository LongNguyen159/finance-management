<div class="flex flex-col">    
    <app-navbar [showBackButton]="false" class="sticky top-0 z-50"></app-navbar>
    <div class="p-4 pt-0">
        <div [ngClass]="isVerticalLayout ? 'flex flex-col gap-8 p-4' : 'grid grid-cols-2 gap-8 p-4'">
            <!-- CHART SECTION -->
            <div class="flex flex-col gap-8">
                <app-month-picker (monthSelected)="onMonthChanges($event)"></app-month-picker>
                <app-sankey-chart
                    [sankeyData]="processedOutputData.sankeyData"
                    [remainingBalance]="processedOutputData.remainingBalance"
                ></app-sankey-chart>
                <mat-divider [ngClass]="colorService.isDarkMode() ? '!border-gray-700' : '!border-gray-300'"></mat-divider>
                <!-- NETTO CHART -->
                
                <div class="flex flex-row w-full items-center justify-end">
                    <button mat-button (click)="dataService.openDidYouKnowDialog()" class="flex items-center">
                        <mat-icon class="mr-1">lightbulb_outline</mat-icon>
                        <span>Did You Know?</span>
                    </button>
                </div>
                <app-pie-chart [pieChartData]="pieChartDataNetto" [chartTitle]="'Expense Distribution'" [chartDescription]="'(The whole pie represents your total net income)'"
                    [totalIncome]="totalNetIncome" [totalExpenses]="totalExpenses"
                ></app-pie-chart>
                @if (showGrossIncomePieChart) {
                    <mat-divider [ngClass]="colorService.isDarkMode() ? '!border-gray-700' : '!border-gray-300'"></mat-divider>
                    <!-- BRUTTO CHART -->
                    <app-pie-chart [pieChartData]="pieChartDataBrutto" [chartTitle]="'Total Income Distribution'" [chartDescription]="'(The whole pie represents your total gross income)'"
                        [totalIncome]="totalGrossIncome"
                    ></app-pie-chart>
                }
            </div>
        </div>
    </div>    
</div>
